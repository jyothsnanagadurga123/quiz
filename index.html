<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Quiz</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #f0f0f0;
}

/* Modal */
.modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    display: flex;
    justify-content: center;
    align-items: center;
}

.modal-content {
    background: #fff;
    width: 600px;
    max-height: 90vh;
    overflow-y: auto;
    padding: 20px;
    border-radius: 10px;
}

/* Quiz */
h2 {
    text-align: center;
}

#timer {
    text-align: right;
    color: red;
    font-weight: bold;
}

.option {
    background: #eee;
    padding: 10px;
    margin: 8px 0;
    border-radius: 6px;
    cursor: pointer;
}

.option:hover {
    background: #cfe2ff;
}

.option.selected {
    background: #198754;
    color: #fff;
}

/* Buttons */
button {
    padding: 10px 15px;
    border: none;
    background: #0d6efd;
    color: white;
    border-radius: 6px;
    cursor: pointer;
    margin-top: 10px;
}

button:hover {
    background: #084298;
}

/* Result */
.result {
    text-align: center;
}

.score-circle {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    background: #198754;
    color: white;
    line-height: 150px;
    font-size: 32px;
    margin: 20px auto;
}

/* Answer Review */
.review {
    text-align: left;
    margin-top: 20px;
}

.correct {
    color: green;
    font-weight: bold;
}

.wrong {
    color: red;
    font-weight: bold;
}
</style>
</head>

<body>

<div class="modal">
<div class="modal-content">

<h2>GK Model Quiz</h2>
<div id="timer">Time: 30s</div>

<div id="question"></div>
<div id="options"></div>

<button id="nextBtn">Next</button>

<!-- RESULT -->
<div class="result" id="result" style="display:none;">
    <div class="score-circle" id="scoreCircle"></div>
    <p id="timeSpent"></p>

    <button onclick="showAnswers()">Show Correct Answers</button>

    <div class="review" id="review" style="display:none;"></div>
</div>

</div>
</div>

<script>
const quiz = [
 {q:"Capital of India?", o:["Delhi","Mumbai","Chennai","Kolkata"], a:0},
 {q:"Largest planet?", o:["Earth","Mars","Jupiter","Venus"], a:2},
 {q:"National animal of India?", o:["Lion","Tiger","Elephant","Horse"], a:1},
 {q:"Who invented computer?", o:["Newton","Charles Babbage","Einstein","Tesla"], a:1},
 {q:"Fastest land animal?", o:["Cheetah","Lion","Horse","Dog"], a:0},
 {q:"Red Planet?", o:["Earth","Mars","Venus","Jupiter"], a:1},
 {q:"Largest ocean?", o:["Indian","Pacific","Atlantic","Arctic"], a:1},
 {q:"Taj Mahal located in?", o:["Delhi","Agra","Jaipur","Mumbai"], a:1},
 {q:"Currency of Japan?", o:["Yuan","Won","Yen","Dollar"], a:2},
 {q:"National flower of India?", o:["Rose","Lotus","Lily","Sunflower"], a:1},
 {q:"Smallest continent?", o:["Asia","Australia","Europe","Africa"], a:1},
 {q:"Who wrote Ramayana?", o:["Valmiki","Tulsidas","Kalidas","Ved Vyas"], a:0},
 {q:"Water chemical formula?", o:["H2O","CO2","O2","NaCl"], a:0},
 {q:"Largest mammal?", o:["Elephant","Blue Whale","Giraffe","Hippo"], a:1},
 {q:"Sun rises in?", o:["West","North","East","South"], a:2}
];

let index = 0, score = 0, time = 30, totalTime = 0;
let timer, selected = null, userAnswers = [];

const qBox = document.getElementById("question");
const optBox = document.getElementById("options");
const timerBox = document.getElementById("timer");
const nextBtn = document.getElementById("nextBtn");

function loadQuestion() {
    selected = null;
    time = 30;
    timerBox.innerText = `Time: ${time}s`;

    qBox.innerHTML = `<h3>Q${index+1}. ${quiz[index].q}</h3>`;
    optBox.innerHTML = "";

    quiz[index].o.forEach((opt,i)=>{
        let div = document.createElement("div");
        div.className = "option";
        div.innerText = opt;
        div.onclick = () => selectOption(div,i);
        optBox.appendChild(div);
    });

    nextBtn.innerText = index === quiz.length-1 ? "Submit" : "Next";
    startTimer();
}

function selectOption(el,i) {
    document.querySelectorAll(".option").forEach(o=>o.classList.remove("selected"));
    el.classList.add("selected");
    selected = i;
}

function startTimer() {
    clearInterval(timer);
    timer = setInterval(()=>{
        time--;
        totalTime++;
        timerBox.innerText = `Time: ${time}s`;
        if(time === 0) nextQuestion();
    },1000);
}

function nextQuestion() {
    clearInterval(timer);
    userAnswers.push(selected);

    if(selected === quiz[index].a) score++;
    index++;

    if(index < quiz.length) loadQuestion();
    else showResult();
}

function showResult() {
    qBox.style.display = optBox.style.display = nextBtn.style.display = timerBox.style.display = "none";
    document.getElementById("result").style.display = "block";

    document.getElementById("scoreCircle").innerText = `${score}/15`;
    document.getElementById("timeSpent").innerText = `Total Time Spent: ${totalTime} seconds`;
}

function showAnswers() {
    const review = document.getElementById("review");
    review.style.display = "block";
    review.innerHTML = "<h3>Correct Answers</h3>";

    quiz.forEach((q,i)=>{
        review.innerHTML += `
        <p>
            <b>Q${i+1}. ${q.q}</b><br>
            <span class="correct">âœ” Correct Answer: ${q.o[q.a]}</span>
        </p>`;
    });
}

nextBtn.onclick = nextQuestion;
loadQuestion();
</script>

</body>
</html>
